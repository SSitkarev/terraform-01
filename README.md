# Домашнее задание к занятию «Введение в Terraform» - Сергей Ситкарёв

![Задание0](https://github.com/SSitkarev/terraform-01/blob/main/img/0.jpg)

## Задание 1

### Перейдите в каталог src. Скачайте все необходимые зависимости, использованные в проекте.

![Задание1](https://github.com/SSitkarev/terraform-01/blob/main/img/1.jpg)

### Изучите файл .gitignore. В каком terraform-файле, согласно этому .gitignore, допустимо сохранить личную, секретную информацию?

Согласно данному файлу .gitignore, личную информацию допустимо сохранять в файле personal.auto.tfvars

### Выполните код проекта. Найдите в state-файле секретное содержимое созданного ресурса random_password, пришлите в качестве ответа конкретный ключ и его значение.

"result": "vlUb55Oieb4B5611"

### Раскомментируйте блок кода, примерно расположенный на строчках 29–42 файла main.tf. Выполните команду terraform validate. Объясните, в чём заключаются намеренно допущенные ошибки. Исправьте их.

![Задание1](https://github.com/SSitkarev/terraform-01/blob/main/img/2.jpg)

Следуя описанию ошибок, можно понять, что в строке 29 блок ресурса должен иметь два лейбла - тип и имя. В нашем случае, указан только тип. В строке 34 неверно указано имя ресурса. Имя ресурса начинается с цифры. Имя может начинаться с _ или буквы. 

### Выполните код. В качестве ответа приложите: исправленный фрагмент кода и вывод команды docker ps.

Исправлены строки 29, 34, а также интуитивно исправлено в строке 36 имя ресурса, чтобы имя созданного контейнера содержало наш рандомный пароль.

![Задание1](https://github.com/SSitkarev/terraform-01/blob/main/img/3.jpg)

Результат выполнения кода

![Задание1](https://github.com/SSitkarev/terraform-01/blob/main/img/4.jpg)

### Замените имя docker-контейнера в блоке кода на hello_world. Не перепутайте имя контейнера и имя образа. Мы всё ещё продолжаем использовать name = "nginx:latest". Выполните команду terraform apply -auto-approve. Объясните своими словами, в чём может быть опасность применения ключа -auto-approve. В качестве ответа дополнительно приложите вывод команды docker ps.

Исправлено имя контейнера

![Задание1](https://github.com/SSitkarev/terraform-01/blob/main/img/5.jpg)

Выполнена команда terraform apply -auto-approve. 

![Задание1](https://github.com/SSitkarev/terraform-01/blob/main/img/6.jpg)

Ключ -auto-approve лучше не применять, т.к. в коде может присутствовать ошибка или опечатка, которая в случае с большим проектом может привести к серьёзным проблемам. 

После изменений в коде лучше пользоваться сначала командой plan, а после анализа планировщика, команду apply.

### Уничтожьте созданные ресурсы с помощью terraform. Убедитесь, что все ресурсы удалены. Приложите содержимое файла terraform.tfstate.

![Задание1](https://github.com/SSitkarev/terraform-01/blob/main/img/7.jpg)

### Объясните, почему при этом не был удалён docker-образ nginx:latest. Ответ обязательно подкрепите строчкой из документации terraform провайдера docker. (ищите в классификаторе resource docker_image )

Docker-образ nginx:latest не был удалён, т.к. в коде main.tf у ресурса, который описывает данный образ, указан параметр *keep_locally = true*